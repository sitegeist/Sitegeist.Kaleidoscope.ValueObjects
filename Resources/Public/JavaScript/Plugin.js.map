{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/dist/createConsumerApi.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/dist/index.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/dist/manifest.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/dist/readFromConsumerApi.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/dist/registry/AbstractRegistry.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/dist/registry/SynchronousMetaRegistry.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/dist/registry/SynchronousRegistry.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/dist/registry/index.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/@neos-project/positional-array-sorter/dist/positionalArraySorter.js","webpack:////Users/christian.pansch/Projects/Sitegeist.Kaleidoscope.ValueObjects/node_modules/tslib/tslib.es6.js","webpack:///../asset-with-metadata-editor/lib/editor.js","webpack:///../asset-with-metadata-editor/lib/editorContext.js","webpack:///../asset-with-metadata-editor/lib/index.js","webpack:///../asset-with-metadata-editor/lib/selectBox_with_meta.js","webpack:///./src/index.js","webpack:///./src/manifest.js"],"names":["exports","__esModule","tslib_1","require","manifest_1","__importDefault","createReadOnlyValue","value","writable","enumerable","configurable","createConsumerApi","manifests","exposureMap","api","Object","keys","forEach","key","defineProperty","window","createConsumerApi_1","readFromConsumerApi_1","readFromConsumerApi","index_1","SynchronousRegistry","SynchronousMetaRegistry","identifier","options","bootstrap","_a","push","args","_i","arguments","length","apply","__spread","Error","AbstractRegistry","description","SERIAL_VERSION_UID","SynchronousRegistry_1","_super","__extends","prototype","set","call","AbstractRegistry_1","positional_array_sorter_1","_this","_registry","position","entry","indexOfItemWithTheSameKey","findIndex","item","get","console","error","result","find","_getChildrenWrapped","searchKey","unsortedChildren","filter","indexOf","getChildrenAsObject","getChildren","map","has","Boolean","_getAllWrapped","getAllAsObject","getAllAsList","assign","id","SynchronousMetaRegistry_1","module","ReactUiComponents","React","positionalArraySorter","subject","idKey","e_1","e_2","_b","e_3","_c","e_4","_d","e_5","_e","e_6","_f","e_7","_g","positionAccessor","indexMapping","middleKeys","startKeys","endKeys","beforeKeys","afterKeys","index","String","positionValue","invalid","startsWith","weightMatch","match","weight","Number","reference","numberPosition","parseFloat","isNaN","isFinite","resultStart","resultMiddle","resultEnd","processedKeys","sortedWeights","dict","asc","weights","x","sort","a","b","reverse","addToResults","e_8","e_9","beforeWeights","beforeWeights_1","__values","beforeWeights_1_1","next","done","i","e_8_1","afterWeights","afterWeights_1","afterWeights_1_1","e_9_1","_h","_j","e_1_1","_k","_l","e_2_1","_m","_o","e_3_1","_p","_q","_r","_s","e_5_1","e_4_1","_t","_u","_v","_w","e_7_1","e_6_1","sortedKeys","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__setModuleDefault","v","__importStar","mod","hasOwnProperty","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","e","rejected","then","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","op","TypeError","pop","__read","r","ar","__spreadArray","to","from","pack","l","Array","slice","concat","Editor","react_ui_components_1","react_1","editorContext_1","selectBox_with_meta_1","MEDIA_TYPE_IMAGE","valueExtern","globalRegistry","neos","renderSecondaryInspector","multiple","placeholder","disabled","threshold","commit","useState","isLoading","setIsLoading","setOptions","valueRef","useRef","i18nRegistry","assetLookupDataLoader","useEffect","current","getIdentity","asset","__identifier","getValue","getValues","isArray","resolver","values","options_1","all","resolveValue","handleMediaSelection","assetIdentifier","__flow_object_type","title","alt","handleChooseFromMedia","MediaSelectionScreen","component","default","createElement","constraints","onComplete","handleChooseFile","AssetUploadScreen","type","props","log","additionalData","EditorContextProvider","extern","update","MultiSelectBox","optionValueField","loadingLabel","translate","displaySearchBox","ListPreviewElement","SelectBox_With_Meta","onValuesChange","displayLoadingIndicator","searchOptions","showDropDownToggle","onSearchTermChange","noMatchesFoundLabel","searchBoxLeftToTypeLabel","onClick","__assign","s","p","useEditorContext","EditorContext","createContext","context","useContext","children","meta","setMeta","ve","metaExist","onChange","metaToUpdate","old","Provider","registerAssetWithMetadataEditor","editor_1","inspectorRegistry","warn","editorsRegistry","altValue","setAltValue","titleValue","setTitleValue","currentExtern","option","currenAssetId","currentMeta","onChangeTitle","onChangeAlt","Fragment","SelectBox_Option_MultiLineWithThumbnail","imageUri","preview","Label","htmlFor","TextInput","onBlur"],"mappings":"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","file":"Plugin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nvar manifest_1 = tslib_1.__importDefault(require(\"./manifest\"));\nvar createReadOnlyValue = function (value) { return ({\n    value: value,\n    writable: false,\n    enumerable: false,\n    configurable: true\n}); };\nfunction createConsumerApi(manifests, exposureMap) {\n    var api = {};\n    Object.keys(exposureMap).forEach(function (key) {\n        Object.defineProperty(api, key, createReadOnlyValue(exposureMap[key]));\n    });\n    Object.defineProperty(api, '@manifest', createReadOnlyValue(manifest_1[\"default\"](manifests)));\n    Object.defineProperty(window, '@Neos:HostPluginAPI', createReadOnlyValue(api));\n}\nexports[\"default\"] = createConsumerApi;\n//# sourceMappingURL=createConsumerApi.js.map","\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nvar createConsumerApi_1 = tslib_1.__importDefault(require(\"./createConsumerApi\"));\nexports.createConsumerApi = createConsumerApi_1[\"default\"];\nvar readFromConsumerApi_1 = tslib_1.__importDefault(require(\"./readFromConsumerApi\"));\nexports.readFromConsumerApi = readFromConsumerApi_1[\"default\"];\nvar index_1 = require(\"./registry/index\");\nexports.SynchronousRegistry = index_1.SynchronousRegistry;\nexports.SynchronousMetaRegistry = index_1.SynchronousMetaRegistry;\nexports[\"default\"] = readFromConsumerApi_1[\"default\"]('manifest');\n//# sourceMappingURL=index.js.map","\"use strict\";\nexports.__esModule = true;\nexports[\"default\"] = (function (manifests) {\n    return function (identifier, options, bootstrap) {\n        var _a;\n        manifests.push((_a = {},\n            _a[identifier] = {\n                options: options,\n                bootstrap: bootstrap\n            },\n            _a));\n    };\n});\n//# sourceMappingURL=manifest.js.map","\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nfunction readFromConsumerApi(key) {\n    return function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (window['@Neos:HostPluginAPI'] && window['@Neos:HostPluginAPI'][\"@\" + key]) {\n            return (_a = window['@Neos:HostPluginAPI'])[\"@\" + key].apply(_a, tslib_1.__spread(args));\n        }\n        throw new Error(\"You are trying to read from a consumer api that hasn't been initialized yet!\");\n    };\n}\nexports[\"default\"] = readFromConsumerApi;\n//# sourceMappingURL=readFromConsumerApi.js.map","\"use strict\";\nexports.__esModule = true;\nvar AbstractRegistry = (function () {\n    function AbstractRegistry(description) {\n        this.SERIAL_VERSION_UID = 'd8a5aa78-978e-11e6-ae22-56b6b6499611';\n        this.description = description;\n    }\n    return AbstractRegistry;\n}());\nexports[\"default\"] = AbstractRegistry;\n//# sourceMappingURL=AbstractRegistry.js.map","\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nvar SynchronousRegistry_1 = tslib_1.__importDefault(require(\"./SynchronousRegistry\"));\nvar SynchronousMetaRegistry = (function (_super) {\n    tslib_1.__extends(SynchronousMetaRegistry, _super);\n    function SynchronousMetaRegistry() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SynchronousMetaRegistry.prototype.set = function (key, value) {\n        if (value.SERIAL_VERSION_UID !== 'd8a5aa78-978e-11e6-ae22-56b6b6499611') {\n            throw new Error('You can only add registries to a meta registry');\n        }\n        return _super.prototype.set.call(this, key, value);\n    };\n    return SynchronousMetaRegistry;\n}(SynchronousRegistry_1[\"default\"]));\nexports[\"default\"] = SynchronousMetaRegistry;\n//# sourceMappingURL=SynchronousMetaRegistry.js.map","\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nvar AbstractRegistry_1 = tslib_1.__importDefault(require(\"./AbstractRegistry\"));\nvar positional_array_sorter_1 = tslib_1.__importDefault(require(\"@neos-project/positional-array-sorter\"));\nvar SynchronousRegistry = (function (_super) {\n    tslib_1.__extends(SynchronousRegistry, _super);\n    function SynchronousRegistry(description) {\n        var _this = _super.call(this, description) || this;\n        _this._registry = [];\n        return _this;\n    }\n    SynchronousRegistry.prototype.set = function (key, value, position) {\n        if (position === void 0) { position = 0; }\n        if (typeof key !== 'string') {\n            throw new Error('Key must be a string');\n        }\n        if (typeof position !== 'string' && typeof position !== 'number') {\n            throw new Error('Position must be a string or a number');\n        }\n        var entry = { key: key, value: value };\n        if (position) {\n            entry.position = position;\n        }\n        var indexOfItemWithTheSameKey = this._registry.findIndex(function (item) { return item.key === key; });\n        if (indexOfItemWithTheSameKey === -1) {\n            this._registry.push(entry);\n        }\n        else {\n            this._registry[indexOfItemWithTheSameKey] = entry;\n        }\n        return value;\n    };\n    SynchronousRegistry.prototype.get = function (key) {\n        if (typeof key !== 'string') {\n            console.error('Key must be a string');\n            return null;\n        }\n        var result = this._registry.find(function (item) { return item.key === key; });\n        return result ? result.value : null;\n    };\n    SynchronousRegistry.prototype._getChildrenWrapped = function (searchKey) {\n        var unsortedChildren = this._registry.filter(function (item) { return item.key.indexOf(searchKey + '/') === 0; });\n        return positional_array_sorter_1[\"default\"](unsortedChildren);\n    };\n    SynchronousRegistry.prototype.getChildrenAsObject = function (searchKey) {\n        var result = {};\n        this._getChildrenWrapped(searchKey).forEach(function (item) {\n            result[item.key] = item.value;\n        });\n        return result;\n    };\n    SynchronousRegistry.prototype.getChildren = function (searchKey) {\n        return this._getChildrenWrapped(searchKey).map(function (item) { return item.value; });\n    };\n    SynchronousRegistry.prototype.has = function (key) {\n        if (typeof key !== 'string') {\n            console.error('Key must be a string');\n            return false;\n        }\n        return Boolean(this._registry.find(function (item) { return item.key === key; }));\n    };\n    SynchronousRegistry.prototype._getAllWrapped = function () {\n        return positional_array_sorter_1[\"default\"](this._registry);\n    };\n    SynchronousRegistry.prototype.getAllAsObject = function () {\n        var result = {};\n        this._getAllWrapped().forEach(function (item) {\n            result[item.key] = item.value;\n        });\n        return result;\n    };\n    SynchronousRegistry.prototype.getAllAsList = function () {\n        return this._getAllWrapped().map(function (item) { return Object.assign({ id: item.key }, item.value); });\n    };\n    return SynchronousRegistry;\n}(AbstractRegistry_1[\"default\"]));\nexports[\"default\"] = SynchronousRegistry;\n//# sourceMappingURL=SynchronousRegistry.js.map","\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nvar SynchronousRegistry_1 = tslib_1.__importDefault(require(\"./SynchronousRegistry\"));\nexports.SynchronousRegistry = SynchronousRegistry_1[\"default\"];\nvar SynchronousMetaRegistry_1 = tslib_1.__importDefault(require(\"./SynchronousMetaRegistry\"));\nexports.SynchronousMetaRegistry = SynchronousMetaRegistry_1[\"default\"];\n//# sourceMappingURL=index.js.map","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().ReactUiComponents;\n","import readFromConsumerApi from '../../../../dist/readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().React;\n","\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nvar positionalArraySorter = function (subject, position, idKey) {\n    var e_1, _a, e_2, _b, e_3, _c, e_4, _d, e_5, _e, e_6, _f, e_7, _g;\n    if (position === void 0) { position = 'position'; }\n    if (idKey === void 0) { idKey = 'key'; }\n    var positionAccessor = typeof position === 'string' ? function (value) { return value[position]; } : position;\n    var indexMapping = {};\n    var middleKeys = {};\n    var startKeys = {};\n    var endKeys = {};\n    var beforeKeys = {};\n    var afterKeys = {};\n    subject.forEach(function (item, index) {\n        var key = item[idKey] ? item[idKey] : String(index);\n        indexMapping[key] = index;\n        var positionValue = positionAccessor(item);\n        var position = String(positionValue ? positionValue : index);\n        var invalid = false;\n        if (position.startsWith('start')) {\n            var weightMatch = position.match(/start\\s+(\\d+)/);\n            var weight = weightMatch && weightMatch[1] ? Number(weightMatch[1]) : 0;\n            if (!startKeys[weight]) {\n                startKeys[weight] = [];\n            }\n            startKeys[weight].push(key);\n        }\n        else if (position.startsWith('end')) {\n            var weightMatch = position.match(/end\\s+(\\d+)/);\n            var weight = weightMatch && weightMatch[1] ? Number(weightMatch[1]) : 0;\n            if (!endKeys[weight]) {\n                endKeys[weight] = [];\n            }\n            endKeys[weight].push(key);\n        }\n        else if (position.startsWith('before')) {\n            var match = position.match(/before\\s+(\\S+)(\\s+(\\d+))?/);\n            if (!match) {\n                invalid = true;\n            }\n            else {\n                var reference = match[1];\n                var weight = match[3] ? Number(match[3]) : 0;\n                if (!beforeKeys[reference]) {\n                    beforeKeys[reference] = {};\n                }\n                if (!beforeKeys[reference][weight]) {\n                    beforeKeys[reference][weight] = [];\n                }\n                beforeKeys[reference][weight].push(key);\n            }\n        }\n        else if (position.startsWith('after')) {\n            var match = position.match(/after\\s+(\\S+)(\\s+(\\d+))?/);\n            if (!match) {\n                invalid = true;\n            }\n            else {\n                var reference = match[1];\n                var weight = match[3] ? Number(match[3]) : 0;\n                if (!afterKeys[reference]) {\n                    afterKeys[reference] = {};\n                }\n                if (!afterKeys[reference][weight]) {\n                    afterKeys[reference][weight] = [];\n                }\n                afterKeys[reference][weight].push(key);\n            }\n        }\n        else {\n            invalid = true;\n        }\n        if (invalid) {\n            var numberPosition = parseFloat(position);\n            if (isNaN(numberPosition) || !isFinite(numberPosition)) {\n                numberPosition = index;\n            }\n            if (!middleKeys[numberPosition]) {\n                middleKeys[numberPosition] = [];\n            }\n            middleKeys[numberPosition].push(key);\n        }\n    });\n    var resultStart = [];\n    var resultMiddle = [];\n    var resultEnd = [];\n    var processedKeys = [];\n    var sortedWeights = function (dict, asc) {\n        var weights = Object.keys(dict).map(function (x) { return Number(x); }).sort(function (a, b) { return a - b; });\n        return asc ? weights : weights.reverse();\n    };\n    var addToResults = function (keys, result) {\n        keys.forEach(function (key) {\n            var e_8, _a, e_9, _b;\n            if (processedKeys.indexOf(key) >= 0) {\n                return;\n            }\n            processedKeys.push(key);\n            if (beforeKeys[key]) {\n                var beforeWeights = sortedWeights(beforeKeys[key], true);\n                try {\n                    for (var beforeWeights_1 = tslib_1.__values(beforeWeights), beforeWeights_1_1 = beforeWeights_1.next(); !beforeWeights_1_1.done; beforeWeights_1_1 = beforeWeights_1.next()) {\n                        var i = beforeWeights_1_1.value;\n                        addToResults(beforeKeys[key][i], result);\n                    }\n                }\n                catch (e_8_1) { e_8 = { error: e_8_1 }; }\n                finally {\n                    try {\n                        if (beforeWeights_1_1 && !beforeWeights_1_1.done && (_a = beforeWeights_1[\"return\"])) _a.call(beforeWeights_1);\n                    }\n                    finally { if (e_8) throw e_8.error; }\n                }\n            }\n            result.push(key);\n            if (afterKeys[key]) {\n                var afterWeights = sortedWeights(afterKeys[key], false);\n                try {\n                    for (var afterWeights_1 = tslib_1.__values(afterWeights), afterWeights_1_1 = afterWeights_1.next(); !afterWeights_1_1.done; afterWeights_1_1 = afterWeights_1.next()) {\n                        var i = afterWeights_1_1.value;\n                        addToResults(afterKeys[key][i], result);\n                    }\n                }\n                catch (e_9_1) { e_9 = { error: e_9_1 }; }\n                finally {\n                    try {\n                        if (afterWeights_1_1 && !afterWeights_1_1.done && (_b = afterWeights_1[\"return\"])) _b.call(afterWeights_1);\n                    }\n                    finally { if (e_9) throw e_9.error; }\n                }\n            }\n        });\n    };\n    try {\n        for (var _h = tslib_1.__values(sortedWeights(startKeys, false)), _j = _h.next(); !_j.done; _j = _h.next()) {\n            var i = _j.value;\n            addToResults(startKeys[i], resultStart);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_j && !_j.done && (_a = _h[\"return\"])) _a.call(_h);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    try {\n        for (var _k = tslib_1.__values(sortedWeights(middleKeys, true)), _l = _k.next(); !_l.done; _l = _k.next()) {\n            var i = _l.value;\n            addToResults(middleKeys[i], resultMiddle);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_l && !_l.done && (_b = _k[\"return\"])) _b.call(_k);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    try {\n        for (var _m = tslib_1.__values(sortedWeights(endKeys, true)), _o = _m.next(); !_o.done; _o = _m.next()) {\n            var i = _o.value;\n            addToResults(endKeys[i], resultEnd);\n        }\n    }\n    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n    finally {\n        try {\n            if (_o && !_o.done && (_c = _m[\"return\"])) _c.call(_m);\n        }\n        finally { if (e_3) throw e_3.error; }\n    }\n    try {\n        for (var _p = tslib_1.__values(Object.keys(beforeKeys)), _q = _p.next(); !_q.done; _q = _p.next()) {\n            var key = _q.value;\n            if (processedKeys.indexOf(key) >= 0) {\n                continue;\n            }\n            try {\n                for (var _r = (e_5 = void 0, tslib_1.__values(sortedWeights(beforeKeys[key], false))), _s = _r.next(); !_s.done; _s = _r.next()) {\n                    var i = _s.value;\n                    addToResults(beforeKeys[key][i], resultStart);\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (_s && !_s.done && (_e = _r[\"return\"])) _e.call(_r);\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n        }\n    }\n    catch (e_4_1) { e_4 = { error: e_4_1 }; }\n    finally {\n        try {\n            if (_q && !_q.done && (_d = _p[\"return\"])) _d.call(_p);\n        }\n        finally { if (e_4) throw e_4.error; }\n    }\n    try {\n        for (var _t = tslib_1.__values(Object.keys(afterKeys)), _u = _t.next(); !_u.done; _u = _t.next()) {\n            var key = _u.value;\n            if (processedKeys.indexOf(key) >= 0) {\n                continue;\n            }\n            try {\n                for (var _v = (e_7 = void 0, tslib_1.__values(sortedWeights(afterKeys[key], false))), _w = _v.next(); !_w.done; _w = _v.next()) {\n                    var i = _w.value;\n                    addToResults(afterKeys[key][i], resultMiddle);\n                }\n            }\n            catch (e_7_1) { e_7 = { error: e_7_1 }; }\n            finally {\n                try {\n                    if (_w && !_w.done && (_g = _v[\"return\"])) _g.call(_v);\n                }\n                finally { if (e_7) throw e_7.error; }\n            }\n        }\n    }\n    catch (e_6_1) { e_6 = { error: e_6_1 }; }\n    finally {\n        try {\n            if (_u && !_u.done && (_f = _t[\"return\"])) _f.call(_t);\n        }\n        finally { if (e_6) throw e_6.error; }\n    }\n    var sortedKeys = tslib_1.__spread(resultStart, resultMiddle, resultEnd);\n    return sortedKeys.map(function (key) { return indexMapping[key]; }).map(function (i) { return subject[i]; });\n};\nexports[\"default\"] = positionalArraySorter;\n//# sourceMappingURL=positionalArraySorter.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Editor = void 0;\nvar react_ui_components_1 = require(\"@neos-project/react-ui-components\");\nvar react_1 = __importStar(require(\"react\"));\nvar editorContext_1 = require(\"./editorContext\");\nvar selectBox_with_meta_1 = require(\"./selectBox_with_meta\");\nvar MEDIA_TYPE_IMAGE = 'Neos\\\\Media\\\\Domain\\\\Model\\\\Image';\nvar Editor = function (_a) {\n    var _b = _a.value, valueExtern = _b === void 0 ? [] : _b, globalRegistry = _a.neos.globalRegistry, renderSecondaryInspector = _a.renderSecondaryInspector, _c = _a.options, multiple = _c.multiple, placeholder = _c.placeholder, disabled = _c.disabled, threshold = _c.threshold, commit = _a.commit;\n    var _d = __read((0, react_1.useState)(false), 2), isLoading = _d[0], setIsLoading = _d[1];\n    var _e = __read((0, react_1.useState)([]), 2), options = _e[0], setOptions = _e[1];\n    var valueRef = (0, react_1.useRef)(valueExtern);\n    var i18nRegistry = globalRegistry.get('i18n');\n    var assetLookupDataLoader = globalRegistry.get('dataLoaders').get('AssetLookup');\n    (0, react_1.useEffect)(function () {\n        valueRef.current = valueExtern;\n    }, [valueExtern]);\n    var getIdentity = function (value) {\n        if (value && value.asset.__identifier) {\n            return value.asset.__identifier;\n        }\n        return value;\n    };\n    var getValue = function () {\n        return getIdentity(valueRef.current[0]);\n    };\n    var getValues = function () {\n        return Array.isArray(valueRef.current) && Boolean(valueRef.current.length)\n            ? valueRef.current.map(getIdentity)\n            : [];\n    };\n    (0, react_1.useEffect)(function () {\n        var resolver = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var values, options_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!valueExtern) return [3, 2];\n                        setIsLoading(true);\n                        values = multiple ? getValues() : [getValue()];\n                        return [4, Promise.all(values.map(function (value) { return assetLookupDataLoader.resolveValue({}, value); }))];\n                    case 1:\n                        options_1 = _a.sent();\n                        setIsLoading(false);\n                        setOptions([].concat.apply([], __spreadArray([], __read(options_1), false)));\n                        _a.label = 2;\n                    case 2: return [2];\n                }\n            });\n        }); };\n        resolver();\n    }, [valueExtern]);\n    var handleMediaSelection = function (assetIdentifier) {\n        commit(__spreadArray(__spreadArray([], __read(valueRef.current), false), [\n            {\n                asset: { __identifier: assetIdentifier, __flow_object_type: MEDIA_TYPE_IMAGE },\n                title: '',\n                alt: '',\n            },\n        ], false));\n    };\n    var handleChooseFromMedia = function () {\n        var MediaSelectionScreen = globalRegistry\n            .get('inspector')\n            .get('secondaryEditors')\n            .get('Neos.Neos/Inspector/Secondary/Editors/MediaSelectionScreen').component;\n        renderSecondaryInspector('IMAGE_SELECT_MEDIA', function () { return (react_1.default.createElement(MediaSelectionScreen, { constraints: {}, onComplete: handleMediaSelection })); });\n    };\n    var handleChooseFile = function () {\n        var AssetUploadScreen = globalRegistry\n            .get('inspector')\n            .get('secondaryEditors')\n            .get('Neos.Neos/Inspector/Secondary/Editors/AssetUploadScreen').component;\n        renderSecondaryInspector('ASSET_UPLOAD_MEDIA', function () { return (react_1.default.createElement(AssetUploadScreen, { type: 'images', constraints: {}, onComplete: function (props) { return console.log('handleChooseFile.onComplete', props); }, additionalData: {} })); });\n    };\n    return (react_1.default.createElement(editorContext_1.EditorContextProvider, { extern: valueExtern, update: commit },\n        react_1.default.createElement(react_ui_components_1.MultiSelectBox, { optionValueField: \"identifier\", loadingLabel: i18nRegistry.translate('Neos.Neos:Main:loading'), displaySearchBox: true, ListPreviewElement: selectBox_with_meta_1.SelectBox_With_Meta, placeholder: i18nRegistry.translate(placeholder), options: options, values: getValues(), onValuesChange: commit, displayLoadingIndicator: isLoading, searchOptions: [], showDropDownToggle: false, onSearchTermChange: function () { }, noMatchesFoundLabel: i18nRegistry.translate('Neos.Neos:Main:noMatchesFound'), searchBoxLeftToTypeLabel: i18nRegistry.translate('Neos.Neos:Main:searchBoxLeftToType'), threshold: threshold, disabled: disabled }),\n        react_1.default.createElement(\"button\", { onClick: handleChooseFromMedia }, \"Media\"),\n        react_1.default.createElement(\"button\", { onClick: handleChooseFile }, \"File\")));\n};\nexports.Editor = Editor;\n//# sourceMappingURL=editor.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EditorContextProvider = exports.useEditorContext = void 0;\nvar React = __importStar(require(\"react\"));\nvar react_1 = require(\"react\");\nvar EditorContext = (0, react_1.createContext)(undefined);\nvar useEditorContext = function () {\n    var context = (0, react_1.useContext)(EditorContext);\n    if (!context)\n        throw new Error('useEditorContext needs to be wrapt in the EditorContextProvider');\n    return context;\n};\nexports.useEditorContext = useEditorContext;\nvar EditorContextProvider = function (_a) {\n    var children = _a.children, extern = _a.extern, update = _a.update;\n    var _b = __read((0, react_1.useState)([]), 2), meta = _b[0], setMeta = _b[1];\n    (0, react_1.useEffect)(function () {\n        if (!meta.length)\n            return;\n        update(extern.map(function (ve) {\n            var metaExist = meta.find(function (m) { return m.id === ve.asset.__identifier; });\n            if (!metaExist)\n                return ve;\n            return __assign(__assign({}, ve), { alt: metaExist.alt, title: metaExist.title });\n        }));\n    }, [meta]);\n    var onChange = function (metaToUpdate) {\n        var metaExist = meta.findIndex(function (meta) { return meta.id === metaToUpdate.id; });\n        if (metaExist === -1) {\n            return setMeta(function (old) { return __spreadArray(__spreadArray([], __read(old), false), [metaToUpdate], false); });\n        }\n        setMeta(function (old) {\n            return old.map(function (meta) {\n                if (meta.id === metaToUpdate.id) {\n                    return metaToUpdate;\n                }\n                return meta;\n            });\n        });\n    };\n    return (React.createElement(EditorContext.Provider, { value: { meta: meta, extern: extern, setMeta: onChange, update: update } }, children));\n};\nexports.EditorContextProvider = EditorContextProvider;\n//# sourceMappingURL=editorContext.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.registerAssetWithMetadataEditor = void 0;\nvar React = __importStar(require(\"react\"));\nvar editor_1 = require(\"./editor\");\nfunction registerAssetWithMetadataEditor(globalRegistry) {\n    var inspectorRegistry = globalRegistry.get('inspector');\n    if (!inspectorRegistry) {\n        console.warn('[Sitegeist.Kaleidoscope.ValueObjects]: Could not find inspector registry.');\n        console.warn('[Sitegeist.Kaleidoscope.ValueObjects]: Skipping registration of AssetWithMetadataEditor...');\n        return;\n    }\n    var editorsRegistry = inspectorRegistry.get('editors');\n    if (!editorsRegistry) {\n        console.warn('[Sitegeist.Kaleidoscope.ValueObjects]: Could not find inspector editors registry.');\n        console.warn('[Sitegeist.Kaleidoscope.ValueObjects]: Skipping registration of AssetWithMetadataEditor...');\n        return;\n    }\n    editorsRegistry.set('Sitegeist.Kaleidoscope.ValueObjects/Inspector/Editors/AssetWithMetadataEditor', {\n        component: function (props) {\n            console.log('Editor Props', props);\n            return React.createElement(editor_1.Editor, __assign({}, props));\n        },\n    });\n}\nexports.registerAssetWithMetadataEditor = registerAssetWithMetadataEditor;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectBox_With_Meta = void 0;\nvar react_ui_components_1 = require(\"@neos-project/react-ui-components\");\nvar react_1 = __importStar(require(\"react\"));\nvar editorContext_1 = require(\"./editorContext\");\nvar SelectBox_With_Meta = function (props) {\n    var _a = (0, editorContext_1.useEditorContext)(), setMeta = _a.setMeta, meta = _a.meta, extern = _a.extern;\n    var _b = __read((0, react_1.useState)(''), 2), altValue = _b[0], setAltValue = _b[1];\n    var _c = __read((0, react_1.useState)(''), 2), titleValue = _c[0], setTitleValue = _c[1];\n    (0, react_1.useEffect)(function () {\n        var _a, _b;\n        var currentExtern = extern.find(function (e) { return e.asset.__identifier === props.option.identifier; });\n        if (!currentExtern)\n            return;\n        setTitleValue((_a = currentExtern.title) !== null && _a !== void 0 ? _a : '');\n        setAltValue((_b = currentExtern.alt) !== null && _b !== void 0 ? _b : '');\n    }, [extern, props.option.identifier]);\n    var currenAssetId = props.option.identifier;\n    var currentMeta = meta.find(function (meta) { return meta.id === currenAssetId; });\n    var onChangeTitle = function () {\n        if (currentMeta) {\n            return setMeta(__assign(__assign({}, currentMeta), { title: titleValue }));\n        }\n        setMeta({ id: currenAssetId, title: titleValue });\n    };\n    var onChangeAlt = function () {\n        if (currentMeta) {\n            return setMeta(__assign(__assign({}, currentMeta), { alt: altValue }));\n        }\n        setMeta({ id: currenAssetId, alt: altValue });\n    };\n    return (react_1.default.createElement(react_1.default.Fragment, null,\n        react_1.default.createElement(react_ui_components_1.SelectBox_Option_MultiLineWithThumbnail, __assign({}, props, { imageUri: props.option.preview, label: props.option.label })),\n        react_1.default.createElement(react_ui_components_1.Label, { htmlFor: \"title\" },\n            \"Title\",\n            react_1.default.createElement(react_ui_components_1.TextInput, { type: \"text\", id: \"title\", onChange: setTitleValue, onBlur: onChangeTitle, value: titleValue })),\n        react_1.default.createElement(react_ui_components_1.Label, { htmlFor: \"alt\" },\n            \"Alt\",\n            react_1.default.createElement(react_ui_components_1.TextInput, { type: \"text\", id: \"alt\", onChange: setAltValue, onBlur: onChangeAlt, value: altValue }))));\n};\nexports.SelectBox_With_Meta = SelectBox_With_Meta;\n//# sourceMappingURL=selectBox_with_meta.js.map","require('./manifest')\n","import manifest from '@neos-project/neos-ui-extensibility'\nimport { registerAssetWithMetadataEditor } from '@sitegeist/kaleidoscope-valueobjects-asset-with-metadata-editor'\n\nmanifest('@sitegeist/kaleidoscope-valueobjects-plugin', {}, (globalRegistry) => {\n    registerAssetWithMetadataEditor(globalRegistry)\n})\n"],"sourceRoot":""}